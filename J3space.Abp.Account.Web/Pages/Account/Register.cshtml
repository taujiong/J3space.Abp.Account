@page
@inject IAuthenticationSchemeProvider SchemeProvider
@using Microsoft.AspNetCore.Authentication
@using J3space.Abp.Account.Web.Pages.Account
@model J3space.Abp.Account.Web.Pages.Account.Register
@{
  var schemes = await SchemeProvider.GetAllSchemesAsync();
  var availableExternalProviders = schemes
    .Where(x => !string.IsNullOrWhiteSpace(x.DisplayName))
    .Select(x => new AccountPageModel.ExternalProviderModel
    {
      DisplayName = x.DisplayName,
      AuthenticationScheme = x.Name
    })
    .ToList();
}

<div class="limiter">
  <div class="container-login">

    <ul class="bg-bubbles">
      @for (var n = 0; n < 10; n++)
      {
        <li></li>
      }
    </ul>

    <div class="p-b-54 p-l-55 p-r-55 p-t-65 wrap-login">
      <form class="login-form"
            method="post">
        <span class="login-form-title p-b-49">@L["Register"]</span>

        <input asp-for="ReturnUrl" />
        <input asp-for="ReturnUrlHash" />

        <div class="m-b-23 wrap-input">
          <svg aria-hidden="true"
               class="icon">
            <use xlink:href="#icon-user"></use>
          </svg>
          <input asp-for="RegisterInput.UserName"
                 autocomplete="on"
                 class="input"
                 placeholder="@L["DisplayName:UserName"]"
                 required>
          <span class="focus-input"></span>
        </div>

        <div class="m-b-23 wrap-input">
          <svg aria-hidden="true"
               class="icon">
            <use xlink:href="#icon-email"></use>
          </svg>
          <input asp-for="RegisterInput.EmailAddress"
                 autocomplete="on"
                 class="input"
                 placeholder="@L["DisplayName:Email"]"
                 required>
          <span class="focus-input"></span>
        </div>

        <div class="m-b-23 wrap-input">
          <svg aria-hidden="true"
               class="icon">
            <use xlink:href="#icon-lock"></use>
          </svg>
          <input asp-for="RegisterInput.Password"
                 class="input"
                 placeholder="@L["Password"]"
                 required>
          <span class="focus-input"></span>
        </div>

        <div class="container-login-form-btn">
          <div class="wrap-login-form-btn">
            <div class="login-form-bgbtn"></div>
            <button class="login-form-btn"
                    type="submit">
              @L["Register"]
            </button>
          </div>
        </div>

        @if (availableExternalProviders.Any())
        {
          <div class="external p-b-20 p-t-50 text-center">
            <span>@L["UseAnotherServiceToRegister"]</span>
          </div>

          <div class="flex-c-m">
            @foreach (var provider in availableExternalProviders)
            {
              <a asp-page="./Login"
                 asp-page-handler="ExternalLogin"
                 asp-route-provider="@provider.AuthenticationScheme"
                 asp-route-returnUrl="@Model.ReturnUrl"
                 asp-route-returnUrlHash="@Model.ReturnUrlHash"
                 class="login-social-item">
                <svg aria-hidden="true"
                     class="icon">
                  <use xlink:href="#icon-@provider.DisplayName.ToLower()"></use>
                </svg>
              </a>
            }
          </div>
        }

        <div class="flex-col-c p-t-25">
          <a asp-page="/Account/Login"
             class="local">
            @L["Login"]
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
